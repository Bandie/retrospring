- provide(:title, generate_title("Notifications"))
= render 'notifications/notification_nav'
.container.j2-page
  = render 'notification_tabs'
  .col-md-9.col-xs-12.col-sm-8
    .panel.panel-default
      %ul#notifications.list-group
        - if @notifications.count == 0
          %li.list-group-item.text-center
            .notifications--none
              %i.fa.fa-bell-o.no-notifications
            %p
              - if params[:type] != "all"
                No new notifications.
              - else
                No notifications.
        - else
          - @notifications.each do |notification|
            = render 'notifications/notification', notification: notification

    = render 'shared/cursored_pagination_dummy', more_data_available: @more_data_available, last_id: @notifications_last_id, permitted_params: %i[type]

    - if @more_data_available
      %button#load-more-btn.btn.btn-default{type: :button, data: { last_id: @notifications_last_id }}
        Load more
- Notification.for(current_user).update_all(new: false)
